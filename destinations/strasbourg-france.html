<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KMC Exploration | Strasbourg, France</title>
  <style>
@import url('https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,500;9..144,700&family=Manrope:wght@400;500;600;700&display=swap');

    :root{
      --sand:#f8f6f2;
      --oat:#f1ece4;
      --sea:#2e3434;
      --sea-dark:#1c2020;
      --sun:#c45a3a;
      --ink:#1c1b18;
      --muted:#6a6762;
      --card:#ffffff;
      --line:rgba(28,27,24,.12);
    }

    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family: "Manrope", "Segoe UI", Arial, sans-serif;
      color:var(--ink);
      background:
        radial-gradient(1200px 800px at 12% -10%, rgba(196,90,58,.12), transparent 60%),
        radial-gradient(900px 600px at 90% -10%, rgba(28,27,24,.08), transparent 55%),
        var(--sand);
    }

    a{color:inherit; text-decoration:none;}

    .layout{
      display:grid;
      grid-template-columns: 250px 1fr;
      min-height:100vh;
    }

    .sidebar{
      padding:26px 20px;
      border-right:1px solid var(--line);
      background:rgba(249,247,242,.9);
      backdrop-filter: blur(6px);
      position:sticky;
      top:0;
      height:100vh;
    }

    .brand{
      font-family:"Fraunces", "Times New Roman", serif;
      font-size:18px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:var(--sea-dark);
      margin-bottom:12px;
    }

    .nav{
      display:grid;
      gap:10px;
      margin-top:18px;
    }

    .nav a{
      padding:10px 12px;
      border-radius:10px;
      border:1px solid transparent;
      background:transparent;
      font-weight:600;
      font-size:11px;
      letter-spacing:.08em;
      text-transform:uppercase;
      color:var(--sea-dark);
      transition: background .12s ease, border-color .12s ease, transform .12s ease;
    }

    .nav a:hover{
      background:rgba(196,90,58,.08);
      border-color:rgba(196,90,58,.3);
      transform: translateX(2px);
    }

    .nav a.active{
      background:var(--sea-dark);
      border-color:var(--sea-dark);
      color:white;
    }

    .sidebar .note{
      margin-top:18px;
      font-size:12px;
      color:var(--muted);
      line-height:1.4;
    }

    .content{
      max-width:1120px;
      margin:0 auto;
      padding:28px 24px 64px;
    }

    header{
      display:grid;
      gap:16px;
      padding:10px 4px 22px;
      border-bottom:1px solid var(--line);
    }

    h1{
      font-family:"Fraunces", "Times New Roman", serif;
      font-size:clamp(30px, 4vw, 46px);
      margin:0;
      letter-spacing:.2px;
    }

    .lede{
      font-size:16px;
      color:var(--muted);
      max-width:72ch;
      margin:0;
    }

    .chips{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }

    .chip{
      padding:6px 10px;
      border-radius:999px;
      background:var(--oat);
      border:1px solid var(--line);
      font-size:11px;
      font-weight:600;
      letter-spacing:.04em;
      text-transform:uppercase;
      color:var(--sea-dark);
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:18px;
      margin-top:18px;
    }

    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:16px;
      overflow:hidden;
      box-shadow:0 16px 34px rgba(28,27,24,.08);
      display:flex;
      flex-direction:column;
      min-height:100%;
    }

    .card img{
      width:100%;
      height:200px;
      object-fit:cover;
      display:block;
    }

    .card-body{
      padding:14px 14px 16px;
      display:grid;
      gap:10px;
      flex:1;
    }

    .card h3{
      font-family:"Fraunces", "Times New Roman", serif;
      font-size:20px;
      margin:0;
    }

    .card .summary{
      color:var(--muted);
      font-size:13px;
      margin:0;
    }

    .tag{
      display:inline-flex;
      align-items:center;
      gap:6px;
      padding:5px 10px;
      border-radius:999px;
      background:rgba(196,90,58,.12);
      color:var(--accent-dark, #8e3c24);
      font-size:11px;
      font-weight:700;
      letter-spacing:.03em;
    }

    .facts{
      list-style:none;
      padding:0;
      margin:0;
      display:grid;
      gap:8px;
      font-size:12px;
      color:var(--muted);
    }
    .facts span{
      display:block;
      color:var(--ink);
      font-weight:700;
      font-size:12px;
      margin-bottom:2px;
    }

    .cta{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      margin-top:auto;
      border-top:1px dashed var(--line);
      padding-top:10px;
      font-size:12px;
      color:var(--muted);
    }

    .pill{
      padding:6px 10px;
      border-radius:10px;
      background:var(--sun);
      color:white;
      font-weight:700;
      font-size:11px;
      letter-spacing:.08em;
      text-transform:uppercase;
    }

    .category-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap:16px;
    }

    .category-card{
      background:rgba(255,255,255,.84);
      border:1px solid var(--line);
      border-radius:18px;
      padding:16px;
      display:grid;
      gap:10px;
      box-shadow:0 12px 26px rgba(28,27,24,.08);
      min-height:140px;
    }

    .category-card h3{
      font-family:"Fraunces", "Times New Roman", serif;
      margin:0;
      font-size:20px;
    }

    .category-card p{
      margin:0;
      font-size:13px;
      color:var(--muted);
    }

    .category-card .link{
      align-self:end;
      font-weight:700;
      color:var(--sea-dark);
    }

    footer{
      margin-top:28px;
      color:var(--muted);
      font-size:12px;
    }

    @media (max-width: 980px){
      .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .layout{grid-template-columns: 1fr;}
      .sidebar{position:static; height:auto; border-right:none; border-bottom:1px solid var(--line);}
      .nav{grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));}
      .content{padding-top:18px;}
    }

    @media (max-width: 640px){
      .grid{ grid-template-columns: 1fr; }
      .content{padding:20px 16px 48px;}
      .nav a{font-size:10px;}
    }

    @media (max-width: 720px){
      header{gap:12px;}
      .card img{height:170px;}
    }

.hero{ display:grid; gap:14px; }
    .hero img{ width:100%; height:320px; object-fit:cover; border-radius:18px; border:1px solid var(--line); box-shadow:0 14px 30px rgba(28,27,24,.12); }
    .slideshow{ border-radius:18px; overflow:hidden; border:1px solid var(--line); box-shadow:0 14px 30px rgba(28,27,24,.12); }
    .slide{ display:none; }
    .slide.active{ display:block; }
    .slide img{ width:100%; height:360px; object-fit:cover; display:block; }
    .meta-grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:14px; margin-top:10px; }
    .meta-card{ background:rgba(255,255,255,.76); border:1px solid var(--line); border-radius:14px; padding:12px 14px; }
    .meta-card h4{ margin:0 0 6px; font-size:12px; color:var(--muted); text-transform:uppercase; letter-spacing:.4px; }
    .meta-card p{ margin:0; font-weight:700; font-size:14px; }
    .section{ margin-top:22px; padding-top:6px; }
    .section h2{ font-family:"Fraunces", Georgia, serif; font-size:22px; margin:0 0 10px; }
    .list{ margin:0; padding-left:18px; color:var(--muted); font-size:14px; }
    .list li{ margin-bottom:6px; }
    .itinerary{ display:grid; gap:10px; }
    .day{ background:rgba(255,255,255,.76); border:1px solid var(--line); border-radius:14px; padding:12px 14px; }
    .day h3{ margin:0 0 6px; font-size:15px; }
    .breadcrumb{ font-size:12px; color:var(--muted); }
    .notice{ margin-top:14px; padding:12px 14px; border-radius:14px; border:1px dashed var(--line); background:rgba(255,255,255,.7); color:var(--muted); font-size:13px; }
    .notice strong{ color:var(--ink); }
    #trierMap{ width:100%; height:360px; }
    .map-card{ margin-top:10px; border:1px solid var(--line); border-radius:16px; overflow:hidden; background:rgba(255,255,255,.76); }
    .map-legend{ padding:12px 14px; border-top:1px solid var(--line); font-size:13px; color:var(--muted); }
    .map-legend strong{ color:var(--ink); }
    .layer-legend{ display:grid; gap:8px; margin-top:10px; }
    .layer-toggle{ display:flex; align-items:center; gap:8px; font-size:12px; color:var(--muted); }
    .layer-toggle input{ width:14px; height:14px; }
    .layer-swatch{ width:12px; height:12px; border-radius:50%; display:inline-block; border:1px solid rgba(0,0,0,.1); }
    .pin{ width:18px; height:18px; border-radius:50% 50% 50% 0; position:relative; transform: rotate(-45deg); background: var(--sea); border:2px solid #ffffff; box-shadow:0 3px 6px rgba(0,0,0,.25); }
    .pin::after{ content:""; width:6px; height:6px; background:#ffffff; position:absolute; top:5px; left:5px; border-radius:50%; }
    .notes{ border:1px dashed var(--line); border-radius:16px; padding:14px; background:rgba(255,255,255,.7); }
    .notes-header{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
    .notes-header h2{ margin:0; font-size:18px; }
    .notes-toggle{ border:1px solid var(--line); border-radius:999px; padding:8px 14px; background:#fff; font-size:12px; text-transform:uppercase; letter-spacing:.6px; cursor:pointer; }
    .notes-body{ margin-top:12px; display:grid; gap:10px; }
    .notes-body[hidden]{ display:none; }
    .notes textarea{ width:100%; min-height:160px; resize:vertical; border:1px solid var(--line); border-radius:12px; padding:10px 12px; font-family:inherit; font-size:14px; }
    .notes-actions{ display:flex; flex-wrap:wrap; align-items:center; gap:10px; }
    .notes-actions button{ border:1px solid var(--line); border-radius:10px; padding:8px 12px; background:#fff; font-size:13px; cursor:pointer; }
    .notes-status{ color:var(--muted); font-size:12px; }
    @media (max-width: 900px){ .hero img{ height:260px; } }
    @media (max-width: 600px){ .hero img{ height:220px; } }
    @media (max-width: 900px){ .slide img{ height:300px; } }
    @media (max-width: 600px){ .slide img{ height:220px; } }
  </style>
</head>
<body>
  <div class="layout">
    <aside class="sidebar" aria-label="Category navigation">
      <div class="brand">KMC Exploration</div>
      <div class="nav">
        <a href="../index.html" class="">Home</a>
        <a href="../day-trips-car.html" class="">Day Trips by Car</a>
        <a href="../day-trips-train.html" class="">Day Trips by Train</a>
        <a href="../trips-plane.html" class="">Trips by Plane</a>
        <a href="../trips-car.html" class="active">Trips by Car</a>
        <a href="../trips-train.html" class="">Trips by Train</a>
        <a href="../kinder-hotels.html" class="">Kinder Hotels</a>
        <a href="../future-destinations.html" class="">Future Destinations</a>
      </div>
      <p class="note">Built for military and support families in the Kaiserslautern Military Community.</p>
    </aside>
    <main class="content">
      <header>
        <h1>Strasbourg, France</h1>
        <p class="lede">Canal city with half-timbered lanes, big parks, and easy Alsace day trips.</p>
      </header>

      <div class="breadcrumb"><a href="../trips-car.html">Back to Trips by Car</a></div>
      
      <div class="hero">
        <div class="slideshow" data-slideshow="1"><div class="slide active"><img src="https://blogs-images.forbes.com/geoffreymorrison/files/2018/10/Exploring-Petite-France-Strasbourg-by-Geoffrey-Morrison-3-of-10.jpg" alt="Petite France canals" loading="lazy" decoding="async" /></div><div class="slide"><img src="https://commons.wikimedia.org/wiki/Special:FilePath/Strasbourg_-_France_9-2024.jpg" alt="Strasbourg city view" loading="lazy" decoding="async" /></div><div class="slide"><img src="https://commons.wikimedia.org/wiki/Special:FilePath/Strasbourg_-_France_-_19.09.2024_2.jpg?width=1600" alt="Strasbourg old town streets" loading="lazy" decoding="async" /></div><div class="slide"><img src="https://ladyhattan.com/wp-content/uploads/2017/11/Christmas-time-in-Alsace-Strasbourg-France-iStock_81256119_XLARGE-2-resize-1024x683.jpg" alt="Strasbourg in winter" loading="lazy" decoding="async" /></div><div class="slide"><img src="https://commons.wikimedia.org/wiki/Special:FilePath/Strasbourg_Cathedral_Exterior_-_Diliff.jpg?width=1600" alt="Strasbourg Cathedral exterior" loading="lazy" decoding="async" /></div></div>
        
        <div class="meta-grid">
          <div class="meta-card"><h4>Travel time</h4><p>Drive | 2h 10m (from Landstuhl)</p></div>
          <div class="meta-card"><h4>Ideal length</h4><p>4 to 5 days</p></div>
          <div class="meta-card"><h4>Season</h4><p>Summer</p></div>
          <div class="meta-card"><h4>Family fit</h4><p>Canals, parks, and short day trips</p></div>
        </div>
      </div>

      <section class="section">
        <h2>Why families love it</h2>
        <p class="lede">Strasbourg mixes half-timbered lanes, canal walks, and big parks into a family-friendly city break. You can balance cathedral views and boat rides with playground time and a short day trip into Alsace villages.</p>
        <ul class="list"><li>Petite France canals</li><li>Strasbourg Cathedral</li><li>Parc de l'Orangerie playgrounds</li><li>Batorama boat cruise</li><li>Alsace village day trips</li></ul>
      </section>

      <section class="section">
        <h2>Suggested 4 to 5 days plan</h2>
        <div class="itinerary"><div class="day"><h3>Day 1</h3><p>Arrive, check in, and walk the Grande Ile with an easy loop through Petite France and Place Kleber.</p></div><div class="day"><h3>Day 2</h3><p>Cathedral climb in the morning, Rohan Palace area, then a Batorama boat cruise.</p></div><div class="day"><h3>Day 3</h3><p>Parc de l'Orangerie playgrounds and the European Quarter, with a relaxed afternoon cafe stop.</p></div><div class="day"><h3>Day 4</h3><p>Alsace day trip to Colmar, Eguisheim, or a nearby wine village.</p></div><div class="day"><h3>Day 5</h3><p>Museum time and market browsing before the drive back.</p></div></div>
      </section>
    
      <section class="section">
        <h2>Map: family-friendly points of interest</h2>
        <div class="map-card">
          <div id="trierMap" aria-label="Map of destination points"></div>
        </div>
        <div class="map-legend">
          <strong>Layers:</strong> Toggle points of interest, parking, recommended restaurants, family-friendly restaurants, indoor attractions, or playgrounds.
          
          <div class="layer-legend" aria-label="Map layers">
            <label class="layer-toggle"><input type="checkbox" data-layer="poi" checked /> <span class="layer-swatch" style="background:#2b7a78;"></span> Points of interest</label>
            <label class="layer-toggle"><input type="checkbox" data-layer="parking" checked /> <span class="layer-swatch" style="background:#f4b942;"></span> Parking garages</label>
            <label class="layer-toggle"><input type="checkbox" data-layer="restaurants" checked /> <span class="layer-swatch" style="background:#e86f5b;"></span> Recommended restaurants</label>
            <label class="layer-toggle"><input type="checkbox" data-layer="family" checked /> <span class="layer-swatch" style="background:#4a76c9;"></span> Family-friendly restaurants</label>
            <label class="layer-toggle"><input type="checkbox" data-layer="indoor" checked /> <span class="layer-swatch" style="background:#7a5ca8;"></span> Indoor attractions</label>
            <label class="layer-toggle"><input type="checkbox" data-layer="playgrounds" checked /> <span class="layer-swatch" style="background:#4ba3c3;"></span> Playgrounds</label>
          </div>
        </div>
      </section>
    
      <section class="section">
        <h2>Indoor attractions</h2>
        <ul class="list"><li>Strasbourg Museum of Modern and Contemporary Art</li><li>Alsatian Museum</li><li>Historical Museum of the City of Strasbourg</li><li>Le Vaisseau science center</li></ul>
      </section>
        
      <section class="section">
        <h2>Recommended stops</h2>
        <ul class="list"><li>Strasbourg Cathedral</li><li>Petite France canals</li><li>Place Kleber</li><li>Barrage Vauban and Ponts Couverts</li><li>Parc de l'Orangerie</li><li>Batorama boat cruise</li><li>European Parliament</li><li>Alsatian Museum</li><li>Strasbourg Museum of Modern and Contemporary Art</li><li>Maison Kammerzell</li></ul>
      </section>
        
      <section class="section">
        <h2>Where to stay</h2>
        <ul class="list"><li>Grande Ile (Old Town)</li><li>Petite France</li><li>Orangerie neighborhood</li><li>Presqu'ile Malraux</li></ul>
      </section>
        
      <section class="section">
        <h2>Getting there</h2>
        <p class="lede">Strasbourg is about a 2 hour 10 minute drive from Landstuhl via the A6/A5. The historic core is low-traffic, so plan to park in a central garage or use a tram park-and-ride lot for easy access.</p>
      </section>
        
      <section class="section">
        <h2>Family travel tips</h2>
        <ul class="list"><li>Use park-and-ride lots on tram lines to avoid old town traffic.</li><li>Book the boat cruise early and pack a light layer for the river.</li><li>Keep one full day open for an Alsace village day trip.</li></ul>
      </section>
    
      <section class="section notes" data-notes-slug="strasbourg-france">
        <div class="notes-header">
          <h2>Notes on this destination</h2>
          <button class="notes-toggle" type="button" aria-expanded="false">Show notes</button>
        </div>
        <div class="notes-body" hidden>
          <p class="lede">Private notes stored in this browser only.</p>
          <textarea placeholder="Add trip notes, ideas, and edits to apply later."></textarea>
          <div class="notes-actions">
            <button class="notes-save" type="button">Save now</button>
            <button class="notes-clear" type="button">Clear</button>
            <span class="notes-status" aria-live="polite"></span>
          </div>
        </div>
      </section>
    
      <footer>
        Photos sourced from Wikimedia Commons. Travel times are approximate from Landstuhl.
      </footer>
    </main>
  </div>

  <script>
    (function(){
      var shows = document.querySelectorAll("[data-slideshow='1']");
      for (var i = 0; i < shows.length; i++){
        (function(wrapper){
          var slides = wrapper.querySelectorAll(".slide");
          if (!slides.length) return;
          var index = 0;
          function setSlide(next){
            index = (next + slides.length) % slides.length;
            for (var j = 0; j < slides.length; j++){
              slides[j].classList.toggle("active", j === index);
            }
          }
          setSlide(0);
          setInterval(function(){ setSlide(index + 1); }, 10000);
        })(shows[i]);
      }
    })();
  </script>
    
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <script>
    (function(){
      var mapEl = document.getElementById("trierMap");
      if (!mapEl) return;

      var poiPoints = [{"name": "Strasbourg Cathedral", "lat": 48.5816, "lon": 7.7509, "maps_url": "https://www.google.com/maps/search/?api=1&query=Strasbourg%20Cathedral%20Strasbourg%2C%20France"}, {"name": "Petite France", "lat": 48.5806, "lon": 7.7445, "maps_url": "https://www.google.com/maps/search/?api=1&query=Petite%20France%20Strasbourg%2C%20France"}, {"name": "Place Kleber", "lat": 48.5831, "lon": 7.7479, "maps_url": "https://www.google.com/maps/search/?api=1&query=Place%20Kleber%20Strasbourg%2C%20France"}, {"name": "Barrage Vauban", "lat": 48.58, "lon": 7.7369, "maps_url": "https://www.google.com/maps/search/?api=1&query=Barrage%20Vauban%20Strasbourg%2C%20France"}, {"name": "Parc de l'Orangerie", "lat": 48.5946, "lon": 7.7772, "maps_url": "https://www.google.com/maps/search/?api=1&query=Parc%20de%20l%27Orangerie%20Strasbourg%2C%20France"}, {"name": "European Parliament", "lat": 48.5977, "lon": 7.7701, "maps_url": "https://www.google.com/maps/search/?api=1&query=European%20Parliament%20Strasbourg%2C%20France"}, {"name": "Strasbourg Museum of Modern and Contemporary Art", "lat": 48.581, "lon": 7.731, "maps_url": "https://www.google.com/maps/search/?api=1&query=Strasbourg%20Museum%20of%20Modern%20and%20Contemporary%20Art%20Strasbourg%2C%20France"}];
      var parkingPoints = [{"name": "Parking Gutenberg", "lat": 48.5818, "lon": 7.7472, "maps_url": "https://www.google.com/maps/search/?api=1&query=Parking%20Gutenberg%20Strasbourg%2C%20France"}, {"name": "Parking Kleber", "lat": 48.5841, "lon": 7.7478, "maps_url": "https://www.google.com/maps/search/?api=1&query=Parking%20Kleber%20Strasbourg%2C%20France"}, {"name": "Parking Austerlitz", "lat": 48.5785, "lon": 7.7582, "maps_url": "https://www.google.com/maps/search/?api=1&query=Parking%20Austerlitz%20Strasbourg%2C%20France"}, {"name": "P+R Rotonde", "lat": 48.5917, "lon": 7.7332, "maps_url": "https://www.google.com/maps/search/?api=1&query=Park%20and%20Ride%20Rotonde%20Strasbourg%2C%20France"}];
      var restaurantPoints = [{"name": "Maison Kammerzell", "lat": 48.5817, "lon": 7.7508, "maps_url": "https://www.google.com/maps/search/?api=1&query=Maison%20Kammerzell%20Strasbourg%2C%20France"}, {"name": "Au Brasseur", "lat": 48.5837, "lon": 7.7472, "maps_url": "https://www.google.com/maps/search/?api=1&query=Au%20Brasseur%20Strasbourg%2C%20France"}, {"name": "Le Gruber", "lat": 48.5811, "lon": 7.7501, "maps_url": "https://www.google.com/maps/search/?api=1&query=Le%20Gruber%20Strasbourg%2C%20France"}];
      var familyRestaurantPoints = [{"name": "Flam's", "lat": 48.5839, "lon": 7.7479, "maps_url": "https://www.google.com/maps/search/?api=1&query=Flam%27s%20Strasbourg%2C%20France"}, {"name": "La Corde a Linge", "lat": 48.581, "lon": 7.7436, "maps_url": "https://www.google.com/maps/search/?api=1&query=La%20Corde%20a%20Linge%20Strasbourg%2C%20France"}, {"name": "L'Ancienne Douane", "lat": 48.5806, "lon": 7.7477, "maps_url": "https://www.google.com/maps/search/?api=1&query=L%27Ancienne%20Douane%20Strasbourg%2C%20France"}];
      var indoorPoints = [{"name": "Strasbourg Museum of Modern and Contemporary Art", "lat": 48.581, "lon": 7.731, "maps_url": "https://www.google.com/maps/search/?api=1&query=Strasbourg%20Museum%20of%20Modern%20and%20Contemporary%20Art%20Strasbourg%2C%20France"}, {"name": "Alsatian Museum", "lat": 48.581, "lon": 7.754, "maps_url": "https://www.google.com/maps/search/?api=1&query=Alsatian%20Museum%20Strasbourg%2C%20France"}, {"name": "Historical Museum of the City of Strasbourg", "lat": 48.5812, "lon": 7.7549, "maps_url": "https://www.google.com/maps/search/?api=1&query=Historical%20Museum%20of%20the%20City%20of%20Strasbourg%2C%20France"}, {"name": "Le Vaisseau", "lat": 48.5769, "lon": 7.7667, "maps_url": "https://www.google.com/maps/search/?api=1&query=Le%20Vaisseau%20Strasbourg%2C%20France"}];
      var playgroundPoints = [{"name": "Parc de l'Orangerie playground", "lat": 48.595, "lon": 7.7774, "maps_url": "https://www.google.com/maps/search/?api=1&query=Parc%20de%20l%27Orangerie%20playground%20Strasbourg%2C%20France"}, {"name": "Parc de la Citadelle playground", "lat": 48.5741, "lon": 7.7748, "maps_url": "https://www.google.com/maps/search/?api=1&query=Parc%20de%20la%20Citadelle%20playground%20Strasbourg%2C%20France"}, {"name": "Parc de Contades playground", "lat": 48.591, "lon": 7.755, "maps_url": "https://www.google.com/maps/search/?api=1&query=Parc%20de%20Contades%20playground%20Strasbourg%2C%20France"}];
      var hasGoogle = true;
      var mapInitialized = false;
      var destTitle = "Strasbourg, France";
      var searchRadius = 5000;

      function popupHtml(point){
        if (!point) return "";
        var url = point.maps_url || "";
        if (!url) return point.name;
        return '<a href="' + url + '" target="_blank" rel="noopener">' + point.name + "</a>";
      }

      function extractCityName(title){
        if (!title) return "";
        var main = title.split(",")[0] || "";
        main = main.replace(/\(.*?\)/g, "").trim();
        return main;
      }

      function formatRating(place){
        if (!place || !place.rating) return "No rating yet";
        var total = place.user_ratings_total || 0;
        return place.rating.toFixed(1) + " (" + total + ")";
      }

      function placeLink(place){
        if (!place || !place.geometry || !place.geometry.location) return "";
        var loc = place.geometry.location;
        var lat = typeof loc.lat === "function" ? loc.lat() : loc.lat;
        var lng = typeof loc.lng === "function" ? loc.lng() : loc.lng;
        var name = place.name ? encodeURIComponent(place.name) : "";
        return "https://www.google.com/maps/search/?api=1&query=" + name + "%20@" + lat + "," + lng;
      }

      function placePopup(place){
        var link = placeLink(place);
        var name = place.name || "Place";
        var rating = formatRating(place);
        if (link){
          return '<div><a href="' + link + '" target="_blank" rel="noopener">' + name + '</a><br />' + rating + "</div>";
        }
        return "<div>" + name + "<br />" + rating + "</div>";
      }

      function initGoogleMap(){
        if (!window.google || !google.maps) return false;
        mapInitialized = true;
        var map = new google.maps.Map(mapEl, {
          center: { lat: 48.5831, lng: 7.7479 },
          zoom: 13,
          mapTypeControl: false,
          streetViewControl: false,
          fullscreenControl: false
        });

        var bounds = new google.maps.LatLngBounds();
        var markerCount = 0;
        var fitTimer = null;
        var layers = {
          poi: [],
          parking: [],
          restaurants: [],
          family: [],
          indoor: [],
          playgrounds: []
        };
        var infoWindow = new google.maps.InfoWindow();
        var placeIds = {
          poi: {},
          parking: {},
          restaurants: {},
          family: {},
          indoor: {},
          playgrounds: {}
        };

        function addPlaceMarker(place, color, key){
          if (!place || !place.geometry || !place.geometry.location) return;
          var idBucket = placeIds[key] || {};
          if (place.place_id && idBucket[place.place_id]) return;
          if (place.place_id) idBucket[place.place_id] = true;
          placeIds[key] = idBucket;
          var marker = new google.maps.Marker({
              position: place.geometry.location,
              map: map,
              title: place.name,
              icon: {
                path: google.maps.SymbolPath.CIRCLE,
                scale: 6,
                fillColor: color,
                fillOpacity: 1,
                strokeColor: "#ffffff",
                strokeWeight: 2
              }
            });
          marker.addListener("click", function(){
            infoWindow.setContent(placePopup(place));
            infoWindow.open(map, marker);
          });
          layers[key].push(marker);
          bounds.extend(marker.getPosition());
          markerCount += 1;
          if (fitTimer) clearTimeout(fitTimer);
          fitTimer = setTimeout(function(){
            if (markerCount > 0){
              map.fitBounds(bounds);
            }
          }, 800);
        }

        function addPointMarker(point, color, key){
          if (!point || typeof point.lat !== "number" || typeof point.lon !== "number") return;
          var marker = new google.maps.Marker({
              position: { lat: point.lat, lng: point.lon },
              map: map,
              title: point.name,
              icon: {
                path: google.maps.SymbolPath.CIRCLE,
                scale: 6,
                fillColor: color,
                fillOpacity: 1,
                strokeColor: "#ffffff",
                strokeWeight: 2
              }
            });
          marker.addListener("click", function(){
            infoWindow.setContent(popupHtml(point));
            infoWindow.open(map, marker);
          });
          layers[key].push(marker);
          bounds.extend(marker.getPosition());
          markerCount += 1;
        }

        function addPointLayer(points, key, color){
          if (!points || !points.length) return;
          for (var i = 0; i < points.length; i++){
            addPointMarker(points[i], color, key);
          }
        }

        function addPlaces(results, key, color, limit){
          if (!results || !results.length) return;
          var cap = limit || 10;
          for (var i = 0; i < results.length && i < cap; i++){
            addPlaceMarker(results[i], color, key);
          }
        }

        function nearbySearch(service, request, key, color, limit, next){
          service.nearbySearch(request, function(results, status){
            if (status === google.maps.places.PlacesServiceStatus.OK){
              addPlaces(results, key, color, limit);
            }
            if (typeof next === "function") next();
          });
        }

        function runSearches(location){
          var service = new google.maps.places.PlacesService(map);
          var base = { location: location, radius: searchRadius };
          nearbySearch(service, Object.assign({}, base, { type: "tourist_attraction" }), "poi", "#2b7a78", 10);
          nearbySearch(service, Object.assign({}, base, { type: "park" }), "poi", "#2b7a78", 6);
          nearbySearch(service, Object.assign({}, base, { type: "parking" }), "parking", "#f4b942", 10);
          nearbySearch(service, Object.assign({}, base, { type: "restaurant", keyword: "popular" }), "restaurants", "#e86f5b", 10);
          nearbySearch(service, Object.assign({}, base, { type: "restaurant", keyword: "family friendly" }), "family", "#4a76c9", 10);
          nearbySearch(service, Object.assign({}, base, { type: "museum" }), "indoor", "#7a5ca8", 8);
          nearbySearch(service, Object.assign({}, base, { type: "aquarium" }), "indoor", "#7a5ca8", 4);
          nearbySearch(service, Object.assign({}, base, { type: "playground" }), "playgrounds", "#4ba3c3", 12);
        }

        function findPopularCenter(locationFallback){
          var cityName = extractCityName(destTitle);
          if (!cityName){
            runSearches(locationFallback);
            map.setCenter(locationFallback);
            map.setZoom(13);
            return;
          }
          var service = new google.maps.places.PlacesService(map);
          var queries = [
            cityName + " city center",
            cityName + " downtown",
            cityName + " main square"
          ];
          var index = 0;

          function tryNext(){
            if (index >= queries.length){
              runSearches(locationFallback);
              map.setCenter(locationFallback);
              map.setZoom(13);
              return;
            }
            service.textSearch({ query: queries[index] }, function(results, status){
              if (status === google.maps.places.PlacesServiceStatus.OK && results && results.length){
                var loc = results[0].geometry && results[0].geometry.location;
                if (loc){
                  map.setCenter(loc);
                  map.setZoom(13);
                  runSearches(loc);
                  return;
                }
              }
              index += 1;
              tryNext();
            });
          }

          tryNext();
        }

        var toggles = document.querySelectorAll(".layer-toggle input");
        toggles.forEach(function(toggle){
          var key = toggle.getAttribute("data-layer");
          var markers = layers[key];
          if (!markers) return;
          toggle.addEventListener("change", function(){
            var show = toggle.checked;
            for (var i = 0; i < markers.length; i++){
              markers[i].setMap(show ? map : null);
            }
          });
        });

        var fallbackLocation = new google.maps.LatLng(48.5831, 7.7479);
        addPointLayer(poiPoints, "poi", "#2b7a78");
        addPointLayer(parkingPoints, "parking", "#f4b942");
        addPointLayer(restaurantPoints, "restaurants", "#e86f5b");
        addPointLayer(familyRestaurantPoints, "family", "#4a76c9");
        addPointLayer(indoorPoints, "indoor", "#7a5ca8");
        addPointLayer(playgroundPoints, "playgrounds", "#4ba3c3");

        if (markerCount > 0){
          map.fitBounds(bounds);
        } else {
          findPopularCenter(fallbackLocation);
        }
        return true;
      }

      function initLeafletMap(){
        if (!window.L) return;
        mapInitialized = true;
        var map = L.map("trierMap", { scrollWheelZoom: false }).setView([48.5831, 7.7479], 13);
        L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
          maxZoom: 19,
          attribution: "&copy; OpenStreetMap contributors"
        }).addTo(map);
        var markerCount = 0;

        function addPin(layer, p, color){
          var icon = L.divIcon({
            className: "",
            html: '<div class="pin" style="background:' + color + ';"></div>',
            iconSize: [18, 18],
            iconAnchor: [9, 18],
            popupAnchor: [0, -16]
          });
          var popup = popupHtml(p);
          L.marker([p.lat, p.lon], { icon: icon }).addTo(layer).bindPopup(popup);
          markerCount += 1;
        }

        var poiLayer = L.layerGroup();
        var parkingLayer = L.layerGroup();
        var restaurantLayer = L.layerGroup();
        var familyRestaurantLayer = L.layerGroup();
        var indoorLayer = L.layerGroup();
        var playgroundLayer = L.layerGroup();

        poiPoints.forEach(function(p){ addPin(poiLayer, p, "#2b7a78"); });
        parkingPoints.forEach(function(p){ addPin(parkingLayer, p, "#f4b942"); });
        restaurantPoints.forEach(function(p){ addPin(restaurantLayer, p, "#e86f5b"); });
        familyRestaurantPoints.forEach(function(p){ addPin(familyRestaurantLayer, p, "#4a76c9"); });
        indoorPoints.forEach(function(p){ addPin(indoorLayer, p, "#7a5ca8"); });
        playgroundPoints.forEach(function(p){ addPin(playgroundLayer, p, "#4ba3c3"); });

        poiLayer.addTo(map);
        parkingLayer.addTo(map);
        restaurantLayer.addTo(map);
        familyRestaurantLayer.addTo(map);
        indoorLayer.addTo(map);
        playgroundLayer.addTo(map);

        var toggles = document.querySelectorAll(".layer-toggle input");
        toggles.forEach(function(toggle){
          toggle.addEventListener("change", function(){
            var key = toggle.getAttribute("data-layer");
            var layer = null;
            if (key === "poi") layer = poiLayer;
            if (key === "parking") layer = parkingLayer;
            if (key === "restaurants") layer = restaurantLayer;
            if (key === "family") layer = familyRestaurantLayer;
            if (key === "indoor") layer = indoorLayer;
            if (key === "playgrounds") layer = playgroundLayer;
            if (!layer) return;
            if (toggle.checked) layer.addTo(map); else map.removeLayer(layer);
          });
        });

        if (markerCount > 0){
          var all = L.featureGroup([poiLayer, parkingLayer, restaurantLayer, familyRestaurantLayer, indoorLayer, playgroundLayer]);
          map.fitBounds(all.getBounds().pad(0.15));
        } else {
          map.setView([48.5831, 7.7479], 13);
        }
      }

      function initDestMapFallback(){
        if (mapInitialized) return;
        mapEl.innerHTML = "";
        initLeafletMap();
      }

      var allowGoogle = hasGoogle && window.location.protocol !== "file:";
      if (!allowGoogle){
        initLeafletMap();
        return;
      }

      window.initDestMap = function(){
        if (mapInitialized) return;
        if (!initGoogleMap()){
          initLeafletMap();
        }
      };

      window.initDestMapFallback = initDestMapFallback;
      window.gm_authFailure = initDestMapFallback;

      setTimeout(function(){
        if (!mapInitialized){
          initLeafletMap();
        }
      }, 2000);
    })();
  </script>

  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAf-tcTdDg6bGpjcrc9QQWLKAZWGwgsYyE&libraries=places&callback=initDestMap" async defer onerror="initDestMapFallback()"></script>

    
  <script>
    (function(){
      var section = document.querySelector(".notes");
      if (!section) return;
      var slug = section.getAttribute("data-notes-slug");
      var key = "kmcNotes:" + slug;
      var toggle = section.querySelector(".notes-toggle");
      var body = section.querySelector(".notes-body");
      var textarea = section.querySelector("textarea");
      var status = section.querySelector(".notes-status");
      var saveBtn = section.querySelector(".notes-save");
      var clearBtn = section.querySelector(".notes-clear");
      var saveTimer = null;

      function setStatus(text){
        if (!status) return;
        status.textContent = text || "";
      }

      function loadNotes(){
        var saved = localStorage.getItem(key) || "";
        textarea.value = saved;
        setStatus(saved ? "Loaded from this browser." : "No notes saved yet.");
      }

      function saveNotes(){
        localStorage.setItem(key, textarea.value.trim());
        setStatus("Saved.");
      }

      function scheduleSave(){
        if (saveTimer) clearTimeout(saveTimer);
        saveTimer = setTimeout(saveNotes, 600);
      }

      toggle.addEventListener("click", function(){
        var isOpen = !body.hasAttribute("hidden");
        if (isOpen) {
          body.setAttribute("hidden", "");
          toggle.setAttribute("aria-expanded", "false");
          toggle.textContent = "Show notes";
        } else {
          body.removeAttribute("hidden");
          toggle.setAttribute("aria-expanded", "true");
          toggle.textContent = "Hide notes";
        }
      });

      saveBtn.addEventListener("click", function(){
        saveNotes();
      });

      clearBtn.addEventListener("click", function(){
        textarea.value = "";
        saveNotes();
      });

      textarea.addEventListener("input", scheduleSave);
      loadNotes();
    })();
  </script>
    
</body>
</html>
